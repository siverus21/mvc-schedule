(self.webpackChunkproject_frontend=self.webpackChunkproject_frontend||[]).push([[524],{221:()=>{},287:(e,t,r)=>{"use strict";r(717);function n(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function i(e,t,r={}){(r={path:"/",...r}).expires instanceof Date&&(r.expires=r.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in r){n+="; "+e;let t=r[e];!0!==t&&(n+="="+t)}document.cookie=n}$(function(){let e=$(".js-change-color-theme");const t="themePreference";let r=n(t),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function a(e){$(document.documentElement).attr("data-theme","dark-theme"===e?"dark-theme":"light-theme"),$("body").toggleClass("dark-theme","dark-theme"===e);let r=new Date;i(t,e,{"max-age":r.getTime()+31536e4})}a(r||(o?"dark-theme":"light-theme")),e.on("click",function(){a("dark-theme"===("dark-theme"===document.documentElement.getAttribute("data-theme")?"dark-theme":"light-theme")?"light-theme":"dark-theme")})});r(440),r(977);$(function(){const e="openMenu";let t=function(){const t=n(e);return t?t.split(",").map(e=>e.trim()).filter(Boolean):[]}();function r(r,n){if(!r)return;const o=t.indexOf(r);n?-1===o&&t.push(r):-1!==o&&t.splice(o,1),i(e,t.join(","),{"max-age":31536e4})}function o(e){return e.find(".menu__section-name").children("span").last().text().trim()}$(".menu__section").each(function(){const e=$(this),r=o(e),n=e.find(".menu__list");t.includes(r)?n.removeClass("hide"):n.addClass("hide")}),$(document).on("click",".menu__header",function(){const e=$(this).closest(".menu__section"),t=e.find(".menu__list");t.toggleClass("hide");const n=!t.hasClass("hide");r(o(e),n)})});if(!window.jQuery)throw new Error('jQuery не найден. Подключите jQuery перед импортом FiltersAPI (например <script src="...jquery..."><\/script>).');const o=function(e){function t(t){return t?e(t).first():e(".filter__form").first()}function r(t){return t.find("[name]").filter(function(){return!e(this).prop("disabled")})}function n(n){var i=t(n),o={};return r(i).each(function(){var t=e(this).attr("name");if(!o.hasOwnProperty(t)){var r=i.find('[name="'+t+'"]');if(r.length>1){var n=(r.first().attr("type")||"").toLowerCase();if("checkbox"===n){var a=[];r.filter(":checked").each(function(){a.push(e(this).val())}),o[t]=a}else if("radio"===n){var c=r.filter(":checked").first();o[t]=c.length?c.val():null}else{var l=[];r.each(function(){l.push(e(this).val())}),o[t]=l}}else{var s=r.first(),u=s.prop("tagName").toLowerCase(),f=(s.attr("type")||"").toLowerCase();if("select"===u&&s.prop("multiple")){var h=[];s.find("option:selected").each(function(){h.push(e(this).val())}),o[t]=h}else if("checkbox"===f)o[t]=s.prop("checked")?s.val():null;else if("radio"===f){var d=s.closest("form,body").find('[name="'+t+'"]:checked').first();o[t]=d.length?d.val():null}else o[t]=s.val()}}}),o}function i(r,n){if(r){var i=t(n).find('[name="'+r+'"]');i.length&&i.each(function(){var t=e(this),r=t.prop("tagName").toLowerCase(),n=(t.attr("type")||"").toLowerCase();"checkbox"===n||"radio"===n?t.prop("checked",!1):"select"===r?t.prop("selectedIndex",-1):t.val("")})}}return{getFilters:n,getFilter:function(r,n){if(!r)return null;var i=t(n),o=i.find('[name="'+r+'"]');if(!o.length)return null;if(o.length>1){var a=(o.first().attr("type")||"").toLowerCase();if("checkbox"===a){var c=[];return o.filter(":checked").each(function(){c.push(e(this).val())}),c}if("radio"===a){var l=o.filter(":checked").first();return l.length?l.val():null}var s=[];return o.each(function(){s.push(e(this).val())}),s}var u=o.first(),f=u.prop("tagName").toLowerCase(),h=(u.attr("type")||"").toLowerCase();if("select"===f&&u.prop("multiple")){var d=[];return u.find("option:selected").each(function(){d.push(e(this).val())}),d}if("checkbox"===h)return u.prop("checked")?u.val():null;if("radio"===h){var p=i.find('[name="'+r+'"]:checked').first();return p.length?p.val():null}return u.val()},setFilter:function(r,n,i){if(r){var o=t(i),a=o.find('[name="'+r+'"]');if(a.length){if(a.length>1){var c=(a.first().attr("type")||"").toLowerCase();if("checkbox"===c){if(!0===n||!1===n)return void a.prop("checked",!!n);var l=Array.isArray(n)?n.map(String):[String(n)];return void a.each(function(){e(this).prop("checked",-1!==l.indexOf(String(e(this).val())))})}return"radio"===c?(a.prop("checked",!1),void a.filter('[value="'+String(n)+'"]').prop("checked",!0)):void(Array.isArray(n)?a.each(function(t){e(this).val(void 0!==n[t]?n[t]:"")}):a.first().val(n))}var s=a.first(),u=s.prop("tagName").toLowerCase(),f=(s.attr("type")||"").toLowerCase();if("select"===u&&s.prop("multiple")){l=Array.isArray(n)?n.map(String):null==n?[]:[String(n)];s.find("option").each(function(){e(this).prop("selected",-1!==l.indexOf(String(e(this).val())))})}else{if("checkbox"!==f)return"radio"===f?(o.find('[name="'+r+'"]').prop("checked",!1),void o.find('[name="'+r+'"][value="'+String(n)+'"]').prop("checked",!0)):void s.val(n);!0===n||!1===n?s.prop("checked",!!n):s.prop("checked",String(s.val())===String(n))}}}},clearFilter:i,clearAll:function(n){var o=t(n);o.length&&o[0].tagName&&"form"===o[0].tagName.toLowerCase()?(o[0].reset(),o.find("select").each(function(){e(this).prop("multiple")&&e(this).prop("selectedIndex",-1)})):r(o).each(function(){i(e(this).attr("name"),o)})},hasFilter:function(e,r){return t(r).find('[name="'+e+'"]').length>0},isAnyFilterActive:function(e){var t=n(e);return Object.keys(t).some(function(e){var r=t[e];return null!=r&&(Array.isArray(r)?r.length>0&&r.some(function(e){return null!==e&&""!==e}):"string"!=typeof r||""!==r)})},onFiltersChange:function(e,r,i){var o=t(r);i="number"==typeof i?i:0;var a=null;return o.on("change.filtersApi input.filtersApi","[name]",function(t){i>0?(clearTimeout(a),a=setTimeout(function(){e(t,n(o))},i)):e(t,n(o))}),function(){o.off(".filtersApi")}},serialize:function(t){var r=n(t),i={};return Object.keys(r).forEach(function(e){var t=r[e];null!=t&&(Array.isArray(t)&&0===t.length||(i[e]=t))}),e.param(i,!0)}}}(window.jQuery);$(function(){let e=n("lastScheduleId");o.onFiltersChange(function(e,r){t(r)},".filter__form",200);if(e){o.setFilter("group",e,".filter__form"),t(o.getFilters(".filter__form"))}function t(e){let t=$('meta[name="_csrf_token"]').attr("content");e._csrf_token=t,$.ajax({url:"/api/v1/schedule",method:"POST",data:e,success:function(t){$(".schedule").html(t.message),i("lastScheduleId",e.group,{"max-age":86400})},error:function(e){console.error("Error fetching schedule:",e)}})}})},440:()=>{$(function(){$(document).on("click",".alert__cross",function(){$(this).parent().remove()})})},717:()=>{$(function(){$(".js-schedule-select-week").on("click",function(){$(this).addClass("button_active"),$(".js-schedule-select-day").removeClass("button_active")}),$(".js-schedule-select-day").on("click",function(){$(this).addClass("button_active"),$(".js-schedule-select-week").removeClass("button_active")}),iziModalAlertSuccess=$(".iziModal-alert-success"),iziModalAlertError=$(".iziModal-alert-error"),iziModalAlertSuccess.iziModal({padding:20,title:"Success",headerColor:"#00897b"}),iziModalAlertError.iziModal({padding:20,title:"Error",headerColor:"#e53935"})})},977:()=>{$(function(){let e=location.origin+location.pathname.replace(/\/$/,"");$(".menu a").each(function(){let t=$(this).attr("href").replace(/\/$/,"");(t===e||e.includes(t))&&$(this).parent().addClass("menu__item_active")})})}},e=>{var t=t=>e(e.s=t);e.O(0,[96],()=>(t(287),t(717),t(221)));e.O()}]);